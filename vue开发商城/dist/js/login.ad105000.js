(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"05d6":function(e,t,s){},"0bf3":function(e,t,s){"use strict";s("05d6")},"0eb4":function(e,t,s){"use strict";var a=s("7a23");const n={class:"toast"};function o(e,t,s,o,c,r){return Object(a["t"])(),Object(a["f"])("div",n,Object(a["C"])(s.message),1)}var c={props:["message"]},r=(s("67a5"),s("6b0d")),i=s.n(r);const d=i()(c,[["render",o],["__scopeId","data-v-12f6a6fc"]]);t["a"]=d},"617f":function(e,t,s){},"67a5":function(e,t,s){"use strict";s("617f")},ede4:function(e,t,s){"use strict";s.r(t);var a=s("7a23");const n=e=>(Object(a["w"])("data-v-450c8883"),e=e(),Object(a["u"])(),e),o={class:"wrapper"},c=n(()=>Object(a["g"])("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png",alt:"头像"},null,-1)),r={class:"wrapper__input"},i={class:"wrapper__input"};function d(e,t,s,n,d,p){const l=Object(a["A"])("Toast");return Object(a["t"])(),Object(a["f"])("div",o,[c,Object(a["g"])("div",r,[Object(a["K"])(Object(a["g"])("input",{type:"text",class:"wrapper__input__content",placeholder:"请输入用户名","onUpdate:modelValue":t[0]||(t[0]=e=>n.data.username=e)},null,512),[[a["F"],n.data.username]])]),Object(a["g"])("div",i,[Object(a["K"])(Object(a["g"])("input",{autocomplete:"new-password",type:"password",class:"wrapper__input__content",placeholder:"请输入密码","onUpdate:modelValue":t[1]||(t[1]=e=>n.data.password=e)},null,512),[[a["F"],n.data.password]])]),Object(a["g"])("div",{class:"wrapper__login-button",onClick:t[2]||(t[2]=(...e)=>n.handleLogin&&n.handleLogin(...e))},"登陆"),Object(a["g"])("div",{class:"wrapper__login-link",onClick:t[3]||(t[3]=(...e)=>n.handleRegisterClick&&n.handleRegisterClick(...e))},"立即注册"),n.data.showToast?(Object(a["t"])(),Object(a["d"])(l,{key:0,message:n.data.toastMessage},null,8,["message"])):Object(a["e"])("",!0)])}var p=s("6605"),l=s("b775"),u=s("0eb4"),b={name:"Login",components:{Toast:u["a"]},setup(){const e=Object(a["x"])({username:"",password:"",showToast:!1,toastMessage:""}),t=Object(p["d"])(),s=t=>{e.showToast=!0,e.toastMessage=t,setTimeout(()=>{e.showToast=!1,e.toastMessage=""},2e3)},n=async()=>{try{const{username:a,password:n}=e;if(""===a)return s("用户名不能为空");if(""===n)return s("密码不能为空");const o=await Object(l["b"])("/api/user/login",{username:a,password:n});0===(null===o||void 0===o?void 0:o.errno)?(localStorage.isLogin=!0,t.push({name:"Home"})):s("登陆失败")}catch(a){s("请求失败")}},o=()=>{t.push({name:"Register"})},{username:c,password:r}=Object(a["D"])(e);return{username:c,password:r,handleLogin:n,handleRegisterClick:o,data:e}}},g=(s("0bf3"),s("6b0d")),w=s.n(g);const j=w()(b,[["render",d],["__scopeId","data-v-450c8883"]]);t["default"]=j}}]);
//# sourceMappingURL=login.ad105000.js.map